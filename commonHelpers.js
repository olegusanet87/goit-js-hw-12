import{a as D,S as O,i as k}from"./assets/vendor-da186403.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(e){if(e.ep)return;e.ep=!0;const a=o(e);fetch(e.href,a)}})();const A="https://pixabay.com/api/";async function H(t,n=1,o=15){const l="42541165-a3d46185342d32ff55345145c";try{return(await D.get(`${A}?key=${l}&q=${encodeURIComponent(t)}&page=${n}&per_page=${o}`)).data.hits}catch{throw new Error("Failed to fetch images from Pixabay API")}}const M="/goit-js-hw-12/assets/bi_x-octagon-80ee8afe.svg";function V(t){const n=document.querySelector(".gallery"),o=document.createDocumentFragment();t.forEach(({webformatURL:l,largeImageURL:e,tags:a,likes:i,views:$,comments:q,downloads:P})=>{const c=document.createElement("li");c.classList.add("gallery-item");const d=document.createElement("a");d.classList.add("gallery-link"),d.href=`${e}`;const m=document.createElement("img");m.classList.add("gallery-image"),m.src=`${l}`,m.alt=a,d.appendChild(m),c.appendChild(d);const s=document.createElement("div");s.classList.add("image-details");const f=document.createElement("span");f.classList.add("detail-label"),f.textContent="Likes:",s.appendChild(f);const g=document.createElement("span");g.classList.add("detail-value"),g.textContent=`${i}`,s.appendChild(g);const y=document.createElement("span");y.classList.add("detail-label"),y.textContent="Views:",s.appendChild(y);const h=document.createElement("span");h.classList.add("detail-value"),h.textContent=`${$}`,s.appendChild(h);const L=document.createElement("span");L.classList.add("detail-label"),L.textContent="Comments:",s.appendChild(L);const C=document.createElement("span");C.classList.add("detail-value"),C.textContent=`${q}`,s.appendChild(C);const E=document.createElement("span");E.classList.add("detail-label"),E.textContent="Downloads:",s.appendChild(E);const b=document.createElement("span");b.classList.add("detail-value"),b.textContent=`${P}`,s.appendChild(b),c.appendChild(s),o.appendChild(c)}),n.appendChild(o),new O(".gallery a",{captionsData:"alt",captionDelay:250})}function v(t){k.error({title:"Error",message:t,position:"topCenter",class:"popup-message",theme:"dark",backgroundColor:"#ef4040",messageColor:"#fff",position:"topRight",timeout:3e3,iconUrl:M})}const u=document.querySelector(".form-submit");u.addEventListener("mouseover",function(){u.classList.add("hover-effect")});u.addEventListener("mouseout",function(){u.classList.remove("hover-effect")});let w="",p=1,r,x;document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".form"),n=document.querySelector(".form-input");document.querySelector(".gallery"),r=document.querySelector(".loadmore"),x=document.querySelector(".loading-more"),t.addEventListener("submit",async o=>{if(o.preventDefault(),w=n.value.trim(),w===""){v("Please enter a search term.");return}p=1,await S()}),r.addEventListener("click",async function(){p++,r.style.display="none",x.style.display="block";const o=I();o&&window.scrollBy({top:o*2,behavior:"smooth"}),await S()}),I()});function I(){const t=document.querySelector(".gallery-item");if(t){const n=t.getBoundingClientRect().height;return console.log(n),n}return null}async function S(){try{const t=await H(w,p),n=t.totalHits;if(p*15>=n){r.style.display="none",v("We're sorry, but you've reached the end of search results."),console.log(t.totalHits);return}V(t),t.length<15?r.style.display="none":r.style.display="block"}catch{v("An error occurred while fetching data. Please try again later.")}finally{x.style.display="none"}}
//# sourceMappingURL=commonHelpers.js.map
