{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/bi_x-octagon.svg","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\nimport axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nexport async function searchImages(searchTerm, page = 1, perPage = 15) {\n\tconst API_KEY = '42541165-a3d46185342d32ff55345145c';\n\n\ttry {\n\t\tconst response = await axios.get(`${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(searchTerm)}&page=${page}&per_page=${perPage}`);\n\t\treturn response.data.hits;\n\t} catch (error) {\n\t\tthrow new Error('Failed to fetch images from Pixabay API');\n\t}\n}\n\n\n\n\n","export default \"__VITE_ASSET__3108d0c6__\"","import SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport Error from '../img/bi_x-octagon.svg';\n\n\nexport function clearGallery() {\n\tconst gallery = document.getElementById('gallery');\n\tgallery.innerHTML = '';\n}\n\nexport function displayImages(images) {\n\n\n\tconst gallery = document.querySelector('.gallery');\n\tconst fragment = document.createDocumentFragment();\n\n\timages.forEach(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n\t\tconst galleryItem = document.createElement('li');\n\t\tgalleryItem.classList.add('gallery-item');\n\n\t\tconst galleryLink = document.createElement('a');\n\t\tgalleryLink.classList.add('gallery-link');\n\t\tgalleryLink.href = `${largeImageURL}`;\n\n\t\tconst img = document.createElement('img');\n\t\timg.classList.add('gallery-image');\n\t\timg.src = `${webformatURL}`;\n\t\timg.alt = tags;\n\t\tgalleryLink.appendChild(img);\n\t\tgalleryItem.appendChild(galleryLink);\n\n\t\tconst infoContainer = document.createElement('div');\n\t\tinfoContainer.classList.add('image-details');\n\n\t\tconst likesLabel = document.createElement('span');\n\t\tlikesLabel.classList.add('detail-label');\n\t\tlikesLabel.textContent = 'Likes:';\n\t\tinfoContainer.appendChild(likesLabel);\n\n\t\tconst likesValue = document.createElement('span');\n\t\tlikesValue.classList.add('detail-value');\n\t\tlikesValue.textContent = `${likes}`;\n\t\tinfoContainer.appendChild(likesValue);\n\n\t\tconst viewsLabel = document.createElement('span');\n\t\tviewsLabel.classList.add('detail-label');\n\t\tviewsLabel.textContent = 'Views:';\n\t\tinfoContainer.appendChild(viewsLabel);\n\n\t\tconst viewsValue = document.createElement('span');\n\t\tviewsValue.classList.add('detail-value');\n\t\tviewsValue.textContent = `${views}`;\n\t\tinfoContainer.appendChild(viewsValue);\n\n\t\tconst commentsLabel = document.createElement('span');\n\t\tcommentsLabel.classList.add('detail-label');\n\t\tcommentsLabel.textContent = 'Comments:';\n\t\tinfoContainer.appendChild(commentsLabel);\n\n\t\tconst commentsValue = document.createElement('span');\n\t\tcommentsValue.classList.add('detail-value');\n\t\tcommentsValue.textContent = `${comments}`;\n\t\tinfoContainer.appendChild(commentsValue);\n\n\t\tconst downloadsLabel = document.createElement('span');\n\t\tdownloadsLabel.classList.add('detail-label');\n\t\tdownloadsLabel.textContent = 'Downloads:';\n\t\tinfoContainer.appendChild(downloadsLabel);\n\n\t\tconst downloadsValue = document.createElement('span');\n\t\tdownloadsValue.classList.add('detail-value');\n\t\tdownloadsValue.textContent = `${downloads}`;\n\t\tinfoContainer.appendChild(downloadsValue);\n\n\t\tgalleryItem.appendChild(infoContainer);\n\t\tfragment.appendChild(galleryItem);\n\n\t});\n\n\tgallery.appendChild(fragment);\n\n\tconst lightbox = new SimpleLightbox('.gallery a', {\n\t\tcaptionsData: 'alt',\n\t\tcaptionDelay: 250\n\t});\n\n}\n\n\nexport function displayErrorMessage(message) {\n\tiziToast.error({\n\t\ttitle: 'Error',\n\t\tmessage: message,\n\t\tposition: 'topCenter',\n\t\tclass: 'popup-message',\n\t\ttheme: 'dark',\n\t\tbackgroundColor: '#ef4040',\n\t\tmessageColor: '#fff',\n\t\tposition: 'topRight',\n\t\ttimeout: 3000,\n\t\ticonUrl: Error\n\t});\n}\n\n\n","'use strict';\nimport { searchImages } from './js/pixabay-api.js';\nimport { displayImages, clearGallery, displayErrorMessage } from './js/render-functions.js';\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from \"axios\";\n\n\n\nconst formsubmit = document.querySelector('.form-submit');\nformsubmit.addEventListener('mouseover', function () {\n\tformsubmit.classList.add('hover-effect');\n});\n\nformsubmit.addEventListener('mouseout', function () {\n\tformsubmit.classList.remove('hover-effect');\n});\n\nlet searchTerm = '';\nlet page = 1;\nlet loadMoreBtn;\nlet loadingMoreSpan;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\tconst form = document.querySelector('.form');\n\tconst input = document.querySelector('.form-input');\n\tconst gallery = document.querySelector('.gallery');\n\tloadMoreBtn = document.querySelector('.loadmore');\n\tloadingMoreSpan = document.querySelector('.loading-more');\n\n\n\n\tform.addEventListener('submit', async (event) => {\n\t\tevent.preventDefault();\n\t\tsearchTerm = input.value.trim();\n\t\tif (searchTerm === '') {\n\t\t\tdisplayErrorMessage('Please enter a search term.');\n\t\t\treturn;\n\t\t}\n\t\tpage = 1;\n\t\tawait searchAndDisplayImages();\n\t});\n\n\tloadMoreBtn.addEventListener('click', async function () {\n\t\tpage++;\n\t\tloadMoreBtn.style.display = 'none';\n\t\tloadingMoreSpan.style.display = 'block';\n\n\t\tconst galleryItemHeight = getHeight();\n\n\t\tif (galleryItemHeight) {\n\t\t\twindow.scrollBy({\n\t\t\t\ttop: galleryItemHeight * 2,\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t\tawait searchAndDisplayImages(searchTerm);\n\n\t})\n\n\n\n\n\tgetHeight();\n});\n\nfunction getHeight() {\n\tconst galleryItem = document.querySelector('.gallery-item');\n\tif (galleryItem) {\n\t\tconst galleryItemHeight = galleryItem.getBoundingClientRect().height;\n\t\tconsole.log(galleryItemHeight);\n\t\treturn galleryItemHeight;\n\t}\n\treturn null;\n}\n\n\n\nasync function searchAndDisplayImages() {\n\ttry {\n\t\tconst images = await searchImages(searchTerm, page);\n\t\tconst totalHits = images.totalHits;\n\t\tconst totalImage = page * 15;\n\n\t\tif (totalImage >= totalHits) {\n\t\t\tloadMoreBtn.style.display = 'none';\n\t\t\tdisplayErrorMessage(\"We're sorry, but you've reached the end of search results.\");\n\t\t\tconsole.log(images.totalHits);\n\n\t\t\treturn;\n\t\t}\n\t\tdisplayImages(images);\n\n\n\t\tif (images.length < 15) {\n\t\t\tloadMoreBtn.style.display = 'none';\n\t\t} else {\n\t\t\tloadMoreBtn.style.display = 'block';\n\t\t}\n\t} catch (error) {\n\t\tdisplayErrorMessage('An error occurred while fetching data. Please try again later.');\n\t} finally {\n\t\tloadingMoreSpan.style.display = 'none';\n\t}\n}\n\n\n\n"],"names":["BASE_URL","searchImages","searchTerm","page","perPage","API_KEY","axios","Error$1","displayImages","images","gallery","fragment","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryItem","galleryLink","img","infoContainer","likesLabel","likesValue","viewsLabel","viewsValue","commentsLabel","commentsValue","downloadsLabel","downloadsValue","SimpleLightbox","displayErrorMessage","message","iziToast","Error","formsubmit","loadMoreBtn","loadingMoreSpan","form","input","event","searchAndDisplayImages","galleryItemHeight","getHeight","totalHits"],"mappings":"owBAGA,MAAMA,EAAW,2BAGV,eAAeC,EAAaC,EAAYC,EAAO,EAAGC,EAAU,GAAI,CACtE,MAAMC,EAAU,qCAEhB,GAAI,CAEH,OADiB,MAAMC,EAAM,IAAI,GAAGN,CAAQ,QAAQK,CAAO,MAAM,mBAAmBH,CAAU,CAAC,SAASC,CAAI,aAAaC,CAAO,EAAE,GAClH,KAAK,IACrB,MAAe,CACf,MAAM,IAAI,MAAM,yCAAyC,CACzD,CACF,CCfA,MAAeG,EAAA,kDCeR,SAASC,EAAcC,EAAQ,CAGrC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,yBAE1BF,EAAO,QAAQ,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KAAgB,CAC5F,MAAMC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAU,IAAI,cAAc,EAExC,MAAMC,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,UAAU,IAAI,cAAc,EACxCA,EAAY,KAAO,GAAGP,CAAa,GAEnC,MAAMQ,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAM,GAAGT,CAAY,GACzBS,EAAI,IAAMP,EACVM,EAAY,YAAYC,CAAG,EAC3BF,EAAY,YAAYC,CAAW,EAEnC,MAAME,EAAgB,SAAS,cAAc,KAAK,EAClDA,EAAc,UAAU,IAAI,eAAe,EAE3C,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,cAAc,EACvCA,EAAW,YAAc,SACzBD,EAAc,YAAYC,CAAU,EAEpC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,cAAc,EACvCA,EAAW,YAAc,GAAGT,CAAK,GACjCO,EAAc,YAAYE,CAAU,EAEpC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,cAAc,EACvCA,EAAW,YAAc,SACzBH,EAAc,YAAYG,CAAU,EAEpC,MAAMC,EAAa,SAAS,cAAc,MAAM,EAChDA,EAAW,UAAU,IAAI,cAAc,EACvCA,EAAW,YAAc,GAAGV,CAAK,GACjCM,EAAc,YAAYI,CAAU,EAEpC,MAAMC,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,UAAU,IAAI,cAAc,EAC1CA,EAAc,YAAc,YAC5BL,EAAc,YAAYK,CAAa,EAEvC,MAAMC,EAAgB,SAAS,cAAc,MAAM,EACnDA,EAAc,UAAU,IAAI,cAAc,EAC1CA,EAAc,YAAc,GAAGX,CAAQ,GACvCK,EAAc,YAAYM,CAAa,EAEvC,MAAMC,EAAiB,SAAS,cAAc,MAAM,EACpDA,EAAe,UAAU,IAAI,cAAc,EAC3CA,EAAe,YAAc,aAC7BP,EAAc,YAAYO,CAAc,EAExC,MAAMC,EAAiB,SAAS,cAAc,MAAM,EACpDA,EAAe,UAAU,IAAI,cAAc,EAC3CA,EAAe,YAAc,GAAGZ,CAAS,GACzCI,EAAc,YAAYQ,CAAc,EAExCX,EAAY,YAAYG,CAAa,EACrCX,EAAS,YAAYQ,CAAW,CAElC,CAAE,EAEDT,EAAQ,YAAYC,CAAQ,EAEX,IAAIoB,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GAChB,CAAE,CAEF,CAGO,SAASC,EAAoBC,EAAS,CAC5CC,EAAS,MAAM,CACd,MAAO,QACP,QAASD,EACT,SAAU,YACV,MAAO,gBACP,MAAO,OACP,gBAAiB,UACjB,aAAc,OACd,SAAU,WACV,QAAS,IACT,QAASE,CACX,CAAE,CACF,CCzFA,MAAMC,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,iBAAiB,YAAa,UAAY,CACpDA,EAAW,UAAU,IAAI,cAAc,CACxC,CAAC,EAEDA,EAAW,iBAAiB,WAAY,UAAY,CACnDA,EAAW,UAAU,OAAO,cAAc,CAC3C,CAAC,EAED,IAAIlC,EAAa,GACbC,EAAO,EACPkC,EACAC,EAEJ,SAAS,iBAAiB,mBAAoB,IAAM,CACnD,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAClC,SAAS,cAAc,UAAU,EACjDH,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAkB,SAAS,cAAc,eAAe,EAIxDC,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAGhD,GAFAA,EAAM,eAAc,EACpBvC,EAAasC,EAAM,MAAM,OACrBtC,IAAe,GAAI,CACtB8B,EAAoB,6BAA6B,EACjD,MACA,CACD7B,EAAO,EACP,MAAMuC,EAAsB,CAC9B,CAAE,EAEDL,EAAY,iBAAiB,QAAS,gBAAkB,CACvDlC,IACAkC,EAAY,MAAM,QAAU,OAC5BC,EAAgB,MAAM,QAAU,QAEhC,MAAMK,EAAoBC,IAEtBD,GACH,OAAO,SAAS,CACf,IAAKA,EAAoB,EACzB,SAAU,QACd,CAAI,EAEF,MAAMD,EAAiC,CAEzC,CAAE,EAKDE,GACD,CAAC,EAED,SAASA,GAAY,CACpB,MAAMzB,EAAc,SAAS,cAAc,eAAe,EAC1D,GAAIA,EAAa,CAChB,MAAMwB,EAAoBxB,EAAY,sBAAqB,EAAG,OAC9D,eAAQ,IAAIwB,CAAiB,EACtBA,CACP,CACD,OAAO,IACR,CAIA,eAAeD,GAAyB,CACvC,GAAI,CACH,MAAMjC,EAAS,MAAMR,EAAaC,EAAYC,CAAI,EAC5C0C,EAAYpC,EAAO,UAGzB,GAFmBN,EAAO,IAER0C,EAAW,CAC5BR,EAAY,MAAM,QAAU,OAC5BL,EAAoB,4DAA4D,EAChF,QAAQ,IAAIvB,EAAO,SAAS,EAE5B,MACA,CACDD,EAAcC,CAAM,EAGhBA,EAAO,OAAS,GACnB4B,EAAY,MAAM,QAAU,OAE5BA,EAAY,MAAM,QAAU,OAE7B,MAAe,CACfL,EAAoB,gEAAgE,CACtF,QAAW,CACTM,EAAgB,MAAM,QAAU,MAChC,CACF"}